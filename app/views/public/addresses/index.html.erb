<div class="container">
  <div class="row">
    <h2>配送先登録/一覧</h2>
  </div>

  <%= form_with(model: @address, :url => {:controller => "public/addresses"}) do |f| %>
    <div class="address col-xs-10">
      <div class="form-group">
        <%= f.label :"郵便番号（ハイフンなし）", class: "control-label" %>
        <%= f.text_field :postal_code, class: "col-xs-4 form-control-static postal_code" %>
      </div>

      <div class="form-group">
        <%= f.label :"住所　　　　　　　　　　" ,class: "col-xs-3 control-label" %>
        <%= f.text_field :address, class: "col-xs-7 form-control-static address" %>
      </div>

      <div class="form-group">
        <%= f.label :"宛名　　　　　　　　　　" ,class: "col-xs-3 control-label" %>
        <%= f.text_field :name, class: "col-xs-4 form-control-static name" %>
      </div>

      <%= f.submit '新規登録' ,class: "col-xs-2 pull-right btn btn-success" %>
    </div>
  <% end %>

  <div class="row">
    <% if @addresses.present? %>
      <table class="table my-3">
        <thead>
          <tr>
            <th>郵便番号</th>
            <th>住所</th>
            <th>宛名</th>
            <th></th>
          </tr>
        </thead>

        <tbody>
          <% @addresses.each do |address| %>
            <tr id="destroy-<%= address.id %>">
              <td>
                <%= address.postal_code %>
              </td>

              <td class="text-left">
                <%= address.address %>
              </td>

              <td class="text-left">
                <%= address.name %>
              </td>

              <td><%= link_to "編集する", edit_address_path(address), class: "btn btn-success offset-1" %></td>
              <td><%= link_to "削除する", address_path(address), method: :delete, remote: true, class: "btn btn-success" %></td>
            </tr>
          <% end %>
        </tbody>
      </teble>
    <% end %>
  </div>
</div>